# Tool Demo: Dynamic Spiral

## Overview
This scene demonstrates the new **tool system** capabilities of the Physics Visualizer. Instead of manually defining dozens of objects, it uses procedural generation through function calls.

## What's Happening
- **40 spheres** arranged in a **4-turn spiral** pattern
- Each sphere is positioned using **parametric equations**
- Colors change gradually along the spiral (HSL color space)
- All generated in **real-time** using JavaScript execution

## Educational Concepts

### 1. Procedural Generation
Rather than hard-coding object positions, we use an algorithm:
```javascript
for(let i=0; i<count; i++) {
  const t = i / (count - 1); // Parameter from 0 to 1
  const angle = t * turns * Math.PI * 2;
  const radius = radiusStart + t * (radiusEnd - radiusStart);
  const x = center[0] + Math.cos(angle) * radius;
  const z = center[2] + Math.sin(angle) * radius;
  const y = center[1] + t * height;
  // Create sphere at (x, y, z)
}
```

### 2. Parametric Curves
The spiral is defined by parametric equations:
- **x(t) = r(t) × cos(θ(t))**
- **y(t) = h × t**
- **z(t) = r(t) × sin(θ(t))**

Where:
- t ∈ [0, 1] is the parameter
- r(t) = radiusStart + t × (radiusEnd - radiusStart)
- θ(t) = t × turns × 2π

### 3. Interactive Parameters
Use the controllers to modify:
- **Spiral Turns**: How many times the spiral rotates
- **Height**: Vertical extent of the spiral
- **Sphere Count**: Number of objects in the pattern

## Why This Matters

### Old Approach (Manual)
```json
{
  "objects": [
    {"id": "sphere_0", "position": [2, 5, 0], ...},
    {"id": "sphere_1", "position": [1.9, 5.5, 0.6], ...},
    {"id": "sphere_2", "position": [1.7, 6, 1.2], ...},
    // ... 37 more objects manually defined!
  ]
}
```
**Problems:**
- ❌ Tedious to create
- ❌ Hard to modify
- ❌ Difficult to adjust parameters
- ❌ Not scalable

### New Approach (Procedural)
```json
{
  "functionCalls": [
    {
      "name": "generateSpiral",
      "parameters": {
        "count": 40,
        "turns": 4,
        "height": 20
      }
    }
  ]
}
```
**Benefits:**
- ✅ One line creates 40 objects
- ✅ Easy to modify parameters
- ✅ Interactive controllers work
- ✅ Scales to 1000s of objects
- ✅ Reusable pattern

## Tool System Advantages

This scene showcases why the Physics Visualizer is **more powerful than a simple LLM chat app**:

1. **Real Code Execution**: The spiral is generated by **actual running JavaScript**, not just described
2. **Interactive Parameters**: Controllers dynamically adjust the generation code
3. **Immediate Results**: Changes are applied in real-time
4. **Scalability**: Could easily generate 1000 spheres with no additional JSON
5. **Educational**: Students can see the math behind the pattern

## Try These Experiments

1. **Increase Turns**: Set to 8 and see how the spiral becomes tighter
2. **Increase Count**: Try 100 spheres for a denser spiral
3. **Change Height**: See how vertical spacing affects the pattern
4. **Combine with Physics**: Add velocity to create a collapsing spiral

## Related Concepts
- Parametric curves
- Polar coordinates
- Procedural generation
- Algorithm visualization
- Computational thinking

## Code Implementation
The actual generator function is in `FunctionCallSystem.ts` as `generateSpiral`. It demonstrates:
- Loop-based object creation
- Mathematical transformations
- Color interpolation
- Object validation

---

**Challenge**: Can you modify the code to create a **double helix** (DNA-like) pattern instead of a simple spiral?
