# PhysicsVisualizer - Feature-Based Architecture (Updated 2025)

## ğŸ“ Current Project Structure

```
physicsvisualizer/
â”œâ”€â”€ ğŸ“„ package.json & vite.config.js    # Build configuration
â”œâ”€â”€ ğŸ“„ README.md                        # Project documentation
â”œâ”€â”€ ğŸ—ï¸ PhysicsVisualizerArchitecture.md # System architecture docs
â”œâ”€â”€ ğŸ“„ file-structure.txt               # This file
â”œâ”€â”€ ğŸ“ public/                          # Static assets
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ vite.svg
â”œâ”€â”€ ğŸ“ src/                             # Source code (Feature-based)
â”‚   â”œâ”€â”€ ğŸ  App.jsx & main.jsx           # React app entry points
â”‚   â”œâ”€â”€ ğŸ¨ App.css & index.css          # Global styles
â”‚   â”œâ”€â”€ ğŸ“Š scene.js & scenes.js         # Scene data & examples
â”‚   â”œâ”€â”€ ğŸ—‚ï¸ assets/                      # Static assets (images, fonts)
â”‚   â”‚   â”œâ”€â”€ physicsvisualizer.svg/png
â”‚   â”‚   â”œâ”€â”€ UbuntuMono fonts
â”‚   â”‚   â””â”€â”€ thumbnails/ (scene previews)
â”‚   â”œâ”€â”€ ğŸ”§ core/                        # Business logic & engines
â”‚   â”‚   â”œâ”€â”€ ğŸ¤– ai/                      # AI processing (Gemini)
â”‚   â”‚   â”‚   â”œâ”€â”€ gemini.js
â”‚   â”‚   â”‚   â””â”€â”€ prompts/ (agentPrompt.txt, extractPrompt.txt)
â”‚   â”‚   â”œâ”€â”€ âš›ï¸ physics/                 # Physics engines
â”‚   â”‚   â”‚   â”œâ”€â”€ engine.jsx              # Cannon.js integration
â”‚   â”‚   â”‚   â”œâ”€â”€ gravitation/calculations.js
â”‚   â”‚   â”‚   â”œâ”€â”€ electrostatic/calculations.js
â”‚   â”‚   â”‚   â”œâ”€â”€ fluid/calculations.js
â”‚   â”‚   â”‚   â”œâ”€â”€ constraints/calculations.js
â”‚   â”‚   â”‚   â””â”€â”€ connections/calculations.js
â”‚   â”‚   â”œâ”€â”€ ğŸ¬ scene/                   # Scene management
â”‚   â”‚   â”‚   â”œâ”€â”€ history.js
â”‚   â”‚   â”‚   â””â”€â”€ patcher.js
â”‚   â”‚   â””â”€â”€ ğŸ—‚ï¸ workspace/               # Workspace management
â”‚   â”‚       â””â”€â”€ WorkspaceManager.js
â”‚   â”œâ”€â”€ ğŸ¯ features/                    # Feature-based components
â”‚   â”‚   â”œâ”€â”€ ğŸ² visualizer/              # 3D visualization feature
â”‚   â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚   â”‚       â”œâ”€â”€ Visualizer.jsx/css
â”‚   â”‚   â”‚       â”œâ”€â”€ OverlayGraph.jsx
â”‚   â”‚   â”‚       â”œâ”€â”€ GraphOverlay.jsx
â”‚   â”‚   â”‚       â””â”€â”€ SceneConsole.jsx/css
â”‚   â”‚   â”œâ”€â”€ ğŸ’¬ chat/                    # AI chat feature
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatOverlay.jsx/css
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Conversation.jsx/css
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ IntegratedPanel.jsx/css
â”‚   â”‚   â”‚   â””â”€â”€ hooks/ (future use)
â”‚   â”‚   â””â”€â”€ ğŸ“š collection/              # Scene management feature
â”‚   â”‚       â”œâ”€â”€ components/
â”‚   â”‚       â”‚   â”œâ”€â”€ SceneSelector.jsx/css (hook export only)
â”‚   â”‚       â”‚   â”œâ”€â”€ SceneDetails.jsx/css (hook export only)
â”‚   â”‚       â”‚   â””â”€â”€ ChangePreview.jsx/css
â”‚   â”‚       â””â”€â”€ hooks/
â”‚   â”‚           â”œâ”€â”€ useSceneSelector.js
â”‚   â”‚           â””â”€â”€ useSceneDetails.js
â”‚   â”œâ”€â”€ ğŸ¨ shared/ui/                   # Reusable UI components
â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚       â”œâ”€â”€ leftPanel.jsx/css      # Layout panels
â”‚   â”‚       â”œâ”€â”€ rightPanel.jsx/css     # Layout panels
â”‚   â”‚       â”œâ”€â”€ messagecontent.jsx     # Message display
â”‚   â”‚       â””â”€â”€ Graph.css              # Chart styling
â”‚   â”œâ”€â”€ ğŸ–¥ï¸ views/                       # Page-level view components
â”‚   â”‚   â”œâ”€â”€ DashboardView.jsx
â”‚   â”‚   â”œâ”€â”€ VisualizerView.jsx
â”‚   â”‚   â”œâ”€â”€ CollectionView.jsx (CSS integrated)
â”‚   â”‚   â”œâ”€â”€ ChatView.jsx
â”‚   â”‚   â”œâ”€â”€ SettingsView.jsx
â”‚   â”‚   â”œâ”€â”€ HistoryView.jsx
â”‚   â”‚   â””â”€â”€ AnalyticsView.jsx
â”‚   â”œâ”€â”€ ğŸªŸ workbench/                   # Main application layout
â”‚   â”‚   â”œâ”€â”€ Workbench.jsx/css          # Main layout container
â”‚   â”‚   â”œâ”€â”€ Panel.jsx                  # Side panel component
â”‚   â”‚   â”œâ”€â”€ ActivityBar.jsx            # Left activity bar
â”‚   â”‚   â””â”€â”€ StatusBar.jsx              # Bottom status bar
â”‚   â”œâ”€â”€ âš™ï¸ contexts/                    # React contexts
â”‚   â”‚   â”œâ”€â”€ DatabaseContext.jsx
â”‚   â”‚   â”œâ”€â”€ WorkspaceContext.jsx
â”‚   â”‚   â””â”€â”€ ThemeContext.jsx
â”‚   â””â”€â”€ ğŸ› ï¸ utils/                       # Utility functions
â”‚       â””â”€â”€ testScenePatcher.js
â””â”€â”€ ğŸ“ backup/                          # Original components backup
    â””â”€â”€ components/ (all original files)
```

## ğŸŒ Application Flow

```
ğŸ“± DOM Root (index.html)
â””â”€â”€ ğŸ¯ React Root (main.jsx)
    â””â”€â”€ ğŸ”„ StrictMode
        â””â”€â”€ ğŸ’¾ DatabaseProvider (Context)
            â””â”€â”€ ğŸ  App.jsx (Main App Component)
                â””â”€â”€ ğŸªŸ Workbench (Main Layout)
                    â”œâ”€â”€ ğŸ“Š ActivityBar (Left Sidebar)
                    â”‚   â”œâ”€â”€ ğŸ  Dashboard
                    â”‚   â”œâ”€â”€ ğŸ² Visualizer
                    â”‚   â”œâ”€â”€ ğŸ’¬ Chat
                    â”‚   â”œâ”€â”€ ğŸ“š Collection
                    â”‚   â””â”€â”€ âš™ï¸ Settings
                    â”‚
                    â””â”€â”€ ğŸ“‹ Content Area
                        â”œâ”€â”€ ğŸ“Š DashboardView (Default)
                        â”œâ”€â”€ ğŸ² VisualizerView â† MAIN PAGE
                        â”‚   â””â”€â”€ ğŸ“ SidePanel (Scene Management)
                        â”‚       â”œâ”€â”€ ğŸ“ Left Panel (Scene Selector)
                        â”‚       â”‚   â””â”€â”€ ğŸ¯ useSceneSelector Hook
                        â”‚       â”‚       â”œâ”€â”€ ğŸ” Extract Scene Button
                        â”‚       â”‚       â”œâ”€â”€ ğŸ“‘ Tab Navigation
                        â”‚       â”‚       â”‚   â”œâ”€â”€ ğŸ“– Examples Tab
                        â”‚       â”‚       â”‚   â”œâ”€â”€ ğŸ’¬ Chat History Tab
                        â”‚       â”‚       â”‚   â””â”€â”€ ğŸ‘¤ My Scenes Tab
                        â”‚       â”‚       â”œâ”€â”€ ğŸ“‹ Scene List
                        â”‚       â”‚       â”‚   â””â”€â”€ ğŸ¯ Scene Items
                        â”‚       â”‚       â”‚       â”œâ”€â”€ ğŸ“ Scene Name
                        â”‚       â”‚       â”‚       â”œâ”€â”€ ğŸ‘¤ Author Info
                        â”‚       â”‚       â”‚       â”œâ”€â”€ âš ï¸ Unsaved Badge
                        â”‚       â”‚       â”‚       â””â”€â”€ â‹¯ Three-Dot Menu
                        â”‚       â”‚       â””â”€â”€ ğŸ“ Scene Description
                        â”‚       â”‚
                        â”‚       â””â”€â”€ ğŸ”§ Center Panel (3D Visualizer)
                        â”‚           â””â”€â”€ ğŸ¯ Visualizer Component
                        â”‚               â”œâ”€â”€ ğŸ® Three.js Canvas
                        â”‚               â”œâ”€â”€ ğŸ² Physics Objects
                        â”‚               â”œâ”€â”€ ğŸ“Š Real-time Graphs
                        â”‚               â””â”€â”€ ğŸ¨ Scene Rendering
                        â”‚
                        â””â”€â”€ ğŸ’¬ Right Panel (Scene Details - Optional)
                            â””â”€â”€ ğŸ¯ useSceneDetails Hook
                                â”œâ”€â”€ ğŸ“‘ Tab Navigation
                                â”‚   â”œâ”€â”€ ğŸ“‹ List View
                                â”‚   â””â”€â”€ ğŸ’» JSON View
                                â”œâ”€â”€ ğŸ“Š Scene Properties
                                â”‚   â”œâ”€â”€ âš›ï¸ Gravity & Physics
                                â”‚   â”œâ”€â”€ ğŸ“ Dimensions
                                â”‚   â””â”€â”€ ğŸ‘¤ Author Info
                                â””â”€â”€ ğŸ¯ Objects List
                                    â”œâ”€â”€ ğŸ“ Object Details
                                    â”œâ”€â”€ ğŸ”§ Properties
                                    â””â”€â”€ ğŸ“‹ Expandable Items
                        â”‚
                        â”œâ”€â”€ ğŸ’¬ ChatView (AI Chat Interface)
                        â”‚   â””â”€â”€ ğŸ¯ Conversation Components
                        â”‚       â”œâ”€â”€ ğŸ¤– AI Messages
                        â”‚       â””â”€â”€ ğŸ‘¤ User Messages
                        â”‚
                        â”œâ”€â”€ ğŸ“š CollectionView (Scene Library)
                        â””â”€â”€ âš™ï¸ SettingsView (App Settings)
```

## ğŸ¯ Architecture Benefits

### âœ… **Feature Isolation**
- Each feature (`visualizer`, `chat`, `collection`) is self-contained
- Independent development and testing
- Clear separation of concerns

### âœ… **Scalable Structure**
- Easy to add new features without affecting others
- Modular design supports team collaboration
- Future-proof for expansion

### âœ… **Maintainable Code**
- Related files grouped together
- Clear import paths and dependencies
- Professional folder organization

### âœ… **Reusable Components**
- Shared UI components in `shared/ui/`
- Consistent design patterns
- Reduced code duplication

## ğŸš€ Development Workflow

1. **New Feature**: Create folder in `src/features/`
2. **Shared Component**: Add to `src/shared/ui/components/`
3. **Business Logic**: Place in appropriate `src/core/` subfolder
4. **View Component**: Add to `src/views/`
5. **Workbench Component**: Add to `src/workbench/`
6. **Hook**: Add to feature's `hooks/` folder
7. **Utility**: Add to `src/utils/`

## ğŸ“‹ File Organization Legend

- ğŸ¯ **Features**: Business domain components (with hooks)
- ğŸ”§ **Core**: Business logic & engines
- ğŸ¨ **Shared**: Reusable UI components
- ğŸ–¥ï¸ **Views**: Page-level view components
- ğŸªŸ **Workbench**: Main application layout
- âš™ï¸ **Contexts**: React state management
- ğŸ› ï¸ **Utils**: Helper functions
- ğŸ“Š **Assets**: Static resources
- ğŸ—‚ï¸ **Backup**: Original files (safe to delete after testing)

---

**Last Updated**: September 2025
**Architecture**: Feature-Based with Hooks & Views
**Status**: âœ… Production Ready
